apiVersion: traefik.io/v1alpha1
kind: IngressRouteTCP
metadata:
  name: postgresql
spec:
  entryPoints:
    # IMPORTANT: Requires 'postgres' TCP entrypoint on port 5432 in Traefik!
    # If missing, add to Traefik: ports.postgres.port=5432 ports.postgres.protocol=TCP
    # Also ensure firewall/security group allows inbound TCP on port 5432
    - postgres
  routes:
    - match: HostSNI(`placeholder.dockify.cloud`)
      services:
        - name: postgresql
          port: 5432
  # TLS disabled - PostgreSQL handles its own SSL/TLS
  # For TLS passthrough (if needed), uncomment and add passthrough: true
  # tls:
  #   passthrough: true
